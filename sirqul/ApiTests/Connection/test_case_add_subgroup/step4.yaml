get_group_details:
  details:
    ordinal: 1
    entry_point: /consumer/connection/group/details/get
    write_output: get_group_details_out
    read_input:
      - addsubgroup_create_parent_group
      - addsubgroup_create_child_group
    confirm_output: True

  data:
    accountId:
      global_constants: ken_account_id
    groupId:

  dependencies:
    - [addsubgroup_create_parent_group, connectionGroupId, groupId]
    
assert:
  isvalid:
    key: valid
    expected: True
    on_error_key: message
    silent: True

  check_subgroup:
    key: [subGroups, [connectionGroupId]] # key in this step's output to be compared
    expected: 
      file: addsubgroup_create_child_group # file in /tmp to get the expected value from
      key_lookup: connectionGroupId # key in file to get the expected value from
    on_error_key: subGroups